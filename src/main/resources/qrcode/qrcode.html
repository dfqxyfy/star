<!DOCTYPE html>
<script src="jquery-3.1.1.js"></script>
<script type="text/javascript" src="jquery.qrcode.js"></script>
<script type="text/javascript" src="qrcode.js"></script>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div >
        <input type="button" value="生成随机数" id="generate"/>
</div>

<h3>
<div id="html"></div>
</h3>
<br/>
<div id="qrcode">

</div>
</body>
</html>

<script>
    jQuery(function(){
        jQuery('#qrcode').qrcode("http://www.jq22.com");
    })

    ;
    $("#generate").click(function () {
        var temp = uuid() ;//generateMixed(15)
        var innerHtml = "https://aop.koolyun.com/apmp/gateway/index/"+temp;
        $("#html").html(innerHtml);
        $('#qrcode').html("");
        jQuery('#qrcode').qrcode(innerHtml);
    });

    function GetRandomNum(Min,Max)
    {
        var Range = Max - Min;
        var Rand = Math.random();
        return(Min + Math.round(Rand * Range));
    }
    var num = GetRandomNum(1,10);
    //alert(num);

    var chars = ['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];
    function generateMixed(n) {
        var res = "";
        for(var i = 0; i < n ; i ++) {
            var id = Math.ceil(Math.random()*35);
            res += chars[id];
        }
        return res;
    }

    function uuid() {
        var s = [];
        var hexDigits = "0123456789abcdef";
        for (var i = 0; i < 36; i++) {
            s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
        }
        s[14] = "4";  // bits 12-15 of the time_hi_and_version field to 0010
        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01
        s[8] = s[13] = s[18] = s[23] = "-";

        var uuid = s.join("");
        return uuid;
    }
</script>